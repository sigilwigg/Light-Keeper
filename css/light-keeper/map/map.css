/* ========== ROOT ========== */
:root {
    --map-width: calc(var(--num-tiles-width) * var(--tile-size));
    --map-height: calc(var(--num-tiles-height) * var(--tile-size));

    --num-tiles-width: 13;
    --num-tiles-height: 10;
}


/* ========== FUNDAMENTALS ========== */
.map, .tile-layer {
    image-rendering: pixelated;
    width: var(--map-width);
    height: var(--map-height);
}

.tile-layer {
    position: absolute;
    top: 0;
    left: 0;
}


/* ========== TILE LAYERS ========== */
/* tile layers can be 1 - 9 (z-index: 1 - 9) */
.tile-layer.floor {
    z-index: 1;
}

.tile-layer.obj {
    z-index: 3;
}

.tile-layer.obj-deco {
    z-index: 12;
}

.tile-layer.floor-lighting {
    z-index: 13;
    background: radial-gradient(circle, rgba(255,255,255,0) 10%, rgba(0,0,0,.95) 50%);
    opacity: 1;
}

.tile-layer.obj-lighting {
    z-index: 14;
    background: radial-gradient(circle, rgba(255,255,255,0) 10%, rgba(0,0,0,1) 30%);
    opacity: 1;
    
    animation: light 5s ease-in-out infinite;
}

.tile-layer.floor-lighting, .tile-layer.obj-lighting {
    position: absolute;
    width: calc(var(--pixel-size) * 208);
    height: calc(var(--pixel-size) * 160);
}

@keyframes light {
    0% {
        opacity: .85;
    }
    50% {
        opacity: .8;
    }
    100% {
        opacity: .85;
    }
}


/* ========== TILES ========== */
.tile {
    position: absolute;
    width: calc(var(--tile-size));
    height: calc(var(--tile-size));
    overflow: hidden;
}


/* ========== TILESETS ========== */
/* ----- floor tilesets ----- */
.tile .sidewalk {
    position: absolute;
    background: url("../../../images/sidewalk.png") no-repeat no-repeat;
    background-size: 100%;
    width: calc( var(--tile-size) * 6);
    height: calc( var(--tile-size) * 13);
    background-position-y: calc( var(--pixel-size) * 0);
}

/* TODO: grass needs tileset!!! */
.tile .grass {
    position: absolute;
    background: green;
    background-size: 100%;
    width: calc( var(--tile-size) * 1);
    height: calc( var(--tile-size) * 1);
    background-position-y: calc( var(--pixel-size) * 0);
}

/* ----- obj tilesets ----- */
.tile .shrine {
    position: absolute;
    background: url("../../../images/shrine.png") no-repeat no-repeat;
    background-size: 100%;
    width: calc( var(--tile-size) * 10);
    height: calc( var(--tile-size) * 1);
}


/* ========== VARIATIONS ========== */
/* ----- sidewalk ----- */
.sidewalk.v-1 {
    background-position-x: calc( var(--pixel-size) * -24);
}
.sidewalk.v-2 {
    background-position-x: calc( var(--pixel-size) * -32);
}
.sidewalk.v-3 {
    background-position-x: calc( var(--pixel-size) * -40);
}